<?xml version="1.0"?>
<launch>

    <arg name="model" value="$(env ROBOT_MODEL)" />
    <arg name="mission" default="M_2021-09-13_13-5-13__Field_16_1"/>
    <node pkg="rostopic" type="rostopic" name="pub_mission" args="pub /mission std_msgs/String $(arg mission) -r 1" output="screen" />

<!--    <node name="pub_odom" pkg="telemetry2mongo" type="gen_odom.py"/>-->
<!--    <node name="pub_camp" pkg="telemetry2mongo" type="pub_camp"/>-->
<!--    <node name="pub_fix" pkg="telemetry2mongo" type="pub_fix"/>-->

<!--    <node pkg="telemetry2mongo" type="multicore.sh" name="multicore_connection" output="screen" />-->

    <node name="telemetry2topic" pkg="telemetry2mongo" type="telemetry2topic">
        <param name="frequency" value="0.1" />
        <param name="odom_topic" value="/ekf_slam_node/slam_odom" />
        <param name="gps_topic" value="/ekf_slam_node/slam_fix" />
        <param name="mission_topic" value="/mission" />
        <param name="payload_topic" value="/payload_" />
        <param name="activation_service" value="/telemetry2topic/active" />
        <param name="platform" value="$(arg model)" />
        <param name="threshold_time" value="1.5" />
    </node>

</launch>
